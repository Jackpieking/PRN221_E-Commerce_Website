@using Microsoft.AspNetCore.Http;
@{
    string path = Context.Request.Path;
    // Check if the request path contains "/Admin/"
    var isAdmin = path.StartsWith("/Admin");
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>
    <link rel="icon" href="~/img/logo.png" type="image/x-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i,900,900i%7CMerriweather:300,300i,400,400i,700,700i,900,900i" rel="stylesheet">

    <!-- Bootstrap Stylesheet -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    @* <link rel="stylesheet" href="./css/bootstrap.min.css"> *@

    <!-- Font Awesome Stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Custom Stylesheets -->
    <link rel="stylesheet" href="~/css/style.css">
    <link rel="stylesheet" id="cpswitch" href="~/css/orange.css">
    <link rel="stylesheet" href="~/css/responsive.css">

    <!-- Owl Carousel Stylesheet -->
    <link rel="stylesheet" href="~/css/owl.carousel.css">
    <link rel="stylesheet" href="~/css/owl.theme.css">

    <!-- Flex Slider Stylesheet -->
    <link rel="stylesheet" href="~/css/flexslider.css" type="text/css" />

    <!--Date-Picker Stylesheet-->
    <link rel="stylesheet" href="~/css/datepicker.css">

    <!-- Magnific Gallery -->
    <link rel="stylesheet" href="~/css/magnific-popup.css">
</head>
<body>
    <!--============= TOP-BAR ===========-->
    <div id="top-bar" class="tb-text-white">
        <div class="container">
            <div class="row">
                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                    <div id="info">
                        <ul class="list-unstyled list-inline d-flex">
                            <li><a asp-action="AdminLogin" asp-controller="AdminLogin"><img src="~/img/Vn.png" /></a></li>
                            <li><span><i class="fa fa-map-marker"></i></span>29 Land St, Lorem City, CA</li>
                            <li><span><i class="fa fa-phone"></i></span>+00 123 4567</li>
                        </ul>
                    </div><!-- end info -->
                </div><!-- end columns -->
                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                    <div id="links">
                        <ul class="list-unstyled list-inline d-flex">
                            @if (User.Identity.IsAuthenticated)
                            {
                                <li><a asp-page="./Auth/Logout"><span><i class="fa fa-plus"></i></span>Sign Out</a></li>
                                if (User.IsInRole("1"))
                                {
                                    @if (!isAdmin)
                                    {
                                        <li><a asp-page="./Admin/Admin"><span><i class="fa fa-avatar"></i></span>Admin</a></li>
                                    }
                                    else
                                    {
                                        <li><a asp-page="./Admin"><span><i class="fa fa-avatar"></i></span>Admin</a></li>
                                    }
                                }
                            }
                            else
                            {
                                <li><a asp-page="./Auth/Login"><span><i class="fa fa-lock"></i></span>Login</a></li>
                                <li><a asp-page="./Auth/Register"><span><i class="fa fa-plus"></i></span>Sign Up</a></li>
                            }
                        </ul>
                    </div><!-- end links -->

                </div><!-- end columns -->
            </div><!-- end row -->
        </div><!-- end container -->
    </div><!-- end top-bar -->
    <nav class="navbar navbar-default main-navbar navbar-custom navbar-white" id="mynavbar-1">
        <div class="container">
            <div class="navbar-header">
                <div class="header-search hidden-lg">
                </div>
                @if (isAdmin)
                {
                    <a asp-page="../Admin" class="navbar-brand">Pizza Admin</a>
                }
                else
                {
                    <a asp-page="./Index" class="navbar-brand">Pizza Life</a>
                }
            </div><!-- end navbar-header -->
        </div><!-- end container -->
    </nav><!-- end navbar -->
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)

</body>
    }
</html>
